<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Product Registration Form</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="d-flex justify-content-center align-item-center">
    <form id="product" action="" class="mt-4">
        <h2><u>Registration Form</u></h2>
        <label for=""><b>Product Name : </b></label>
        <input type="text" class="form-control" name="pName" id="pName" autocomplete="username"
            placeholder="Enter Product Name..">
        <div id="err-pName" class="msg alert alert-danger d-none" role="alert"></div>
        <label for=""><b>Product Code :</b></label>
        <input type="text" class="form-control" name="pCode" id="pCode" placeholder="Enter Product Code:"><br>

        <label for=""><b>Price Range :</b></label><br>
        <input type="range" class="" style="width: 100%;" id="pRange" min="0" max="10000" step="1" value="0"><br>
        <span id="rangeValue" class="" style="color: black;">0</span><br>

        <label for="colorSelect"><b>Color Selection :</b></label>
        <input type="color" class="form-control" id="colorSelect"><br>

        <div id="colorDisplay"></div>
        <div id="colorCode">Selected Color: #000000</div>
        <div style="margin-top: 10px;">
            <span id="colorName">Select a color</span>
        </div>


        <label for="pDate"><b>Manufacturing Date :</b></label>
        <input type="date" class="form-control" name="" id="pDate"><br>
        <button type="submit" class="btn btn-primary mt-2 float-end" name="submit">Submit</button>
    </form>
</body>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>
<script>

    $(function () {
        $('#pName').on('input', function () {
            let value = $(this).val();
            if (value.length > 0) {
                $(this).val(value.charAt(0).toUpperCase() + value.slice(1));
                $(this).val(value.replace(/[0-9]/g, ''));
            }
        });

        $('#pCode').on('input', function () {
            let value = $(this).val();
            value = value.replace(/[^A-Za-z0-9-]/g, '');

            if (value.length >= 4 && value.charAt(3) !== '-') {
                value = value.slice(0, 3) + '-' + value.slice(3);
            }

            if (value.length > 7) {
                value = value.slice(0, 7);
            }

            $(this).val(value);
        });


        $('#rangeValue').text($('#pRange').val());

        $('#pRange').on('input', function () {
            $('#rangeValue').text($(this).val());
        });


        $('#colorSelect').on('input', function () {
            var selectedColor = $(this).val();

            $('#colorDisplay').css('background-color', selectedColor);
            $('#colorName').text(colorName);
        });



        // Product Date



        let today = new Date();
        let dd = String(today.getDate()).padStart(2, '0');
        let mm = String(today.getMonth() + 1).padStart(2, '0');
        let yyyy = today.getFullYear();

        today = yyyy + '-' + mm + '-' + dd;
        $('#pDate').attr('max', today);


        $("#product").on('submit', function (e) {
            e.preventDefault();
            let min = 4;
            let userValid = $("#pName").val();
            let charlength = userValid.length;
            if (charlength < min) {
                $('#err-pName').html("*Product Name minimun 3 characters");
                $('#err-pName').removeClass('d-none');
                return false;
            }
            $('#err-pName').addClass('d-none');
            $('#err-pName').html('');
        })
        return true;
    })


</script>

</html>